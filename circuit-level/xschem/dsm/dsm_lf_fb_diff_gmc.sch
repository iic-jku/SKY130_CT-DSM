v {xschem version=3.4.0 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
L 4 600 -920 2920 -920 {}
L 4 2920 -920 2920 -160 {}
L 4 560 -160 2920 -160 {}
L 4 560 -920 560 -160 {}
L 4 560 -920 600 -920 {}
L 4 560 -1640 560 -960 {}
L 4 560 -960 2800 -960 {}
L 4 2800 -1640 2800 -960 {}
L 4 560 -1640 2800 -1640 {}
L 4 560 -2100 560 -1680 {}
L 4 560 -1680 2560 -1680 {}
L 4 2560 -2100 2560 -1680 {}
L 4 570 -2100 2560 -2100 {}
L 4 560 -2100 570 -2100 {}
T {Not functional yet} 590 -230 0 0 0.6 0.6 {}
T {STF1/NTF1: Fully-differential CIFB GmC Loop Filter w/ current-mode feedback DACs} 1910 -1610 0 1 0.6 0.6 {}
T {STF2/NTF2: Protoype Modulator, fs-scaled} 1260 -2070 0 1 0.6 0.6 {}
T {STF3/NTF3} 780 -890 0 1 0.6 0.6 {}
N 2610 -1480 2610 -1450 {
lab=v1}
N 2610 -1480 2690 -1480 {
lab=v1}
N 2570 -1210 2570 -1190 {
lab=GND}
N 2570 -1400 2570 -1280 {
lab=e}
N 2570 -1280 2570 -1270 {
lab=e}
N 2610 -1380 2610 -1370 {
lab=GND}
N 2610 -1390 2610 -1380 {
lab=GND}
N 2470 -1480 2470 -1450 {
lab=y1}
N 2470 -1390 2470 -1370 {
lab=GND}
N 250 -1330 320 -1330 {
lab=vcmi}
N 320 -1330 320 -1300 {
lab=vcmi}
N 320 -1330 390 -1330 {
lab=vcmi}
N 390 -1380 390 -1330 {
lab=vcmi}
N 320 -1240 320 -1210 {
lab=GND}
N 250 -1550 250 -1530 {
lab=vip}
N 230 -1550 250 -1550 {
lab=vip}
N 390 -1550 390 -1530 {
lab=vin}
N 390 -1550 410 -1550 {
lab=vin}
N 290 -1520 320 -1520 {
lab=u}
N 320 -1520 350 -1520 {
lab=u}
N 290 -1480 290 -1460 {
lab=GND}
N 290 -1460 320 -1460 {
lab=GND}
N 320 -1460 350 -1460 {
lab=GND}
N 350 -1480 350 -1460 {
lab=GND}
N 320 -1460 320 -1450 {
lab=GND}
N 130 -1330 130 -1300 {
lab=vcm}
N 130 -1240 130 -1210 {
lab=GND}
N 390 -1470 390 -1380 {
lab=vcmi}
N 830 -1070 830 -1050 {
lab=GND}
N 830 -1070 850 -1070 {
lab=GND}
N 890 -1060 890 -1030 {
lab=vcm}
N 950 -1070 950 -1050 {
lab=GND}
N 950 -1070 970 -1070 {
lab=GND}
N 1010 -1060 1010 -1030 {
lab=vcm}
N 850 -1110 970 -1110 {
lab=v1}
N 1010 -1150 1010 -1120 {
lab=x1n}
N 890 -1150 890 -1120 {
lab=x1p}
N 830 -1110 850 -1110 {
lab=v1}
N 890 -1030 890 -1020 {
lab=vcm}
N 1010 -1030 1010 -1020 {
lab=vcm}
N 1010 -1240 1010 -1150 {
lab=x1n}
N 890 -1240 890 -1150 {
lab=x1p}
N 890 -1020 1010 -1020 {
lab=vcm}
N 820 -1880 860 -1880 {
lab=GND}
N 1190 -1880 1230 -1880 {
lab=GND}
N 1590 -1880 1630 -1880 {
lab=GND}
N 860 -1980 860 -1960 {
lab=x1}
N 860 -1980 960 -1980 {
lab=x1}
N 860 -1880 960 -1880 {
lab=GND}
N 1230 -1880 1330 -1880 {
lab=GND}
N 1230 -1980 1230 -1960 {
lab=x2}
N 1230 -1980 1330 -1980 {
lab=x2}
N 1630 -1980 1630 -1960 {
lab=x3}
N 1630 -1980 1730 -1980 {
lab=x3}
N 1630 -1880 1730 -1880 {
lab=GND}
N 2170 -1880 2270 -1880 {
lab=GND}
N 960 -1880 1020 -1880 {
lab=GND}
N 1020 -1900 1020 -1880 {
lab=GND}
N 960 -1980 1020 -1980 {
lab=x1}
N 1020 -1980 1020 -1960 {
lab=x1}
N 1330 -1880 1390 -1880 {
lab=GND}
N 1390 -1900 1390 -1880 {
lab=GND}
N 1330 -1980 1390 -1980 {
lab=x2}
N 1390 -1980 1390 -1960 {
lab=x2}
N 1390 -1980 1470 -1980 {
lab=x2}
N 1730 -1980 1790 -1980 {
lab=x3}
N 1790 -1980 1790 -1960 {
lab=x3}
N 1730 -1880 1790 -1880 {
lab=GND}
N 1790 -1900 1790 -1880 {
lab=GND}
N 1790 -1980 1850 -1980 {
lab=x3}
N 1020 -1880 1060 -1880 {
lab=GND}
N 1190 -1950 1200 -1950 {
lab=GND}
N 1200 -1950 1200 -1880 {
lab=GND}
N 1060 -1880 1080 -1880 {
lab=GND}
N 1590 -1950 1600 -1950 {
lab=GND}
N 1600 -1950 1600 -1880 {
lab=GND}
N 1390 -1880 1490 -1880 {
lab=GND}
N 1630 -1900 1630 -1880 {
lab=GND}
N 1230 -1900 1230 -1880 {
lab=GND}
N 1790 -1880 1870 -1880 {
lab=GND}
N 690 -1890 690 -1880 {
lab=GND}
N 690 -1880 820 -1880 {
lab=GND}
N 810 -1910 820 -1910 {
lab=u}
N 2310 -1880 2430 -1880 {
lab=GND}
N 2430 -1920 2430 -1880 {
lab=GND}
N 2430 -2010 2430 -1980 {
lab=v2}
N 2430 -2010 2510 -2010 {
lab=v2}
N 2510 -2010 2510 -1830 {
lab=v2}
N 2390 -1930 2390 -1810 {
lab=#net1}
N 2390 -1810 2390 -1800 {
lab=#net1}
N 820 -1950 830 -1950 {
lab=v2}
N 770 -1910 810 -1910 {
lab=u}
N 770 -1980 770 -1970 {
lab=u}
N 690 -1980 770 -1980 {
lab=u}
N 690 -1980 690 -1970 {
lab=u}
N 1490 -1880 1590 -1880 {
lab=GND}
N 1850 -1980 1880 -1980 {
lab=x3}
N 1870 -1880 1940 -1880 {
lab=GND}
N 690 -1900 690 -1890 {
lab=GND}
N 690 -1970 690 -1960 {
lab=u}
N 690 -1880 690 -1860 {
lab=GND}
N 860 -1900 860 -1880 {
lab=GND}
N 2390 -1980 2390 -1970 {
lab=y2}
N 2400 -1830 2510 -1830 {
lab=v2}
N 1970 -1950 1980 -1950 {
lab=GND}
N 1980 -1950 1980 -1880 {
lab=GND}
N 1940 -1880 1980 -1880 {
lab=GND}
N 1980 -1880 2170 -1880 {
lab=GND}
N 2010 -1900 2010 -1880 {
lab=GND}
N 2010 -1980 2010 -1960 {
lab=y2}
N 2010 -1980 2110 -1980 {
lab=y2}
N 2110 -1980 2170 -1980 {
lab=y2}
N 2170 -1980 2170 -1960 {
lab=y2}
N 2170 -1900 2170 -1880 {
lab=GND}
N 2170 -1980 2230 -1980 {
lab=y2}
N 2230 -1980 2260 -1980 {
lab=y2}
N 2300 -1830 2400 -1830 {
lab=v2}
N 2300 -1980 2390 -1980 {
lab=y2}
N 830 -1830 2300 -1830 {
lab=v2}
N 830 -1950 830 -1830 {
lab=v2}
N 770 -1970 770 -1910 {
lab=u}
N 1170 -1910 1190 -1910 {
lab=#net2}
N 1170 -1960 1170 -1910 {
lab=#net2}
N 1140 -1960 1170 -1960 {
lab=#net2}
N 1020 -1980 1100 -1980 {
lab=x1}
N 1100 -1980 1100 -1950 {
lab=x1}
N 1140 -1900 1140 -1880 {
lab=GND}
N 1570 -1910 1590 -1910 {
lab=#net3}
N 1570 -1960 1570 -1910 {
lab=#net3}
N 1540 -1960 1570 -1960 {
lab=#net3}
N 1500 -1980 1500 -1950 {
lab=x2}
N 1540 -1900 1540 -1880 {
lab=GND}
N 1470 -1980 1500 -1980 {
lab=x2}
N 1950 -1910 1970 -1910 {
lab=#net4}
N 1950 -1960 1950 -1910 {
lab=#net4}
N 1920 -1960 1950 -1960 {
lab=#net4}
N 1880 -1980 1880 -1950 {
lab=x3}
N 1920 -1900 1920 -1880 {
lab=GND}
N 2290 -1980 2300 -1980 {
lab=y2}
N 1100 -1910 1100 -1800 {
lab=#net5}
N 1080 -1880 1140 -1880 {
lab=GND}
N 1140 -1880 1190 -1880 {
lab=GND}
N 1060 -1720 1100 -1720 {
lab=GND}
N 1060 -1750 1060 -1720 {
lab=GND}
N 1100 -1740 1100 -1720 {
lab=GND}
N 1060 -1830 1060 -1790 {
lab=v2}
N 1460 -1720 1500 -1720 {
lab=GND}
N 1460 -1750 1460 -1720 {
lab=GND}
N 1500 -1740 1500 -1720 {
lab=GND}
N 1460 -1830 1460 -1790 {
lab=v2}
N 1500 -1910 1500 -1800 {
lab=#net6}
N 1840 -1720 1880 -1720 {
lab=GND}
N 1840 -1750 1840 -1720 {
lab=GND}
N 1880 -1740 1880 -1720 {
lab=GND}
N 1840 -1830 1840 -1790 {
lab=v2}
N 1880 -1910 1880 -1800 {
lab=#net7}
N 700 -1380 770 -1380 {
lab=vip}
N 700 -1420 770 -1420 {
lab=vcmi}
N 700 -1460 770 -1460 {
lab=vin}
N 890 -1400 890 -1380 {
lab=x1n}
N 890 -1380 1020 -1380 {
lab=x1n}
N 1020 -1390 1020 -1380 {
lab=x1n}
N 890 -1460 890 -1440 {
lab=x1p}
N 890 -1460 1020 -1460 {
lab=x1p}
N 1020 -1460 1020 -1450 {
lab=x1p}
N 890 -1240 930 -1240 {
lab=x1p}
N 970 -1240 1010 -1240 {
lab=x1n}
N 930 -1460 930 -1240 {
lab=x1p}
N 970 -1380 970 -1240 {
lab=x1n}
N 1270 -1070 1270 -1050 {
lab=GND}
N 1270 -1070 1290 -1070 {
lab=GND}
N 1330 -1060 1330 -1030 {
lab=vcm}
N 1390 -1070 1390 -1050 {
lab=GND}
N 1390 -1070 1410 -1070 {
lab=GND}
N 1450 -1060 1450 -1030 {
lab=vcm}
N 1290 -1110 1410 -1110 {
lab=v1}
N 1450 -1150 1450 -1120 {
lab=x2n}
N 1330 -1150 1330 -1120 {
lab=x2p}
N 1270 -1110 1290 -1110 {
lab=v1}
N 1330 -1030 1330 -1020 {
lab=vcm}
N 1450 -1030 1450 -1020 {
lab=vcm}
N 1450 -1240 1450 -1150 {
lab=x2n}
N 1330 -1240 1330 -1150 {
lab=x2p}
N 1330 -1020 1450 -1020 {
lab=vcm}
N 1140 -1380 1210 -1380 {
lab=x1p}
N 1140 -1460 1210 -1460 {
lab=x1n}
N 1330 -1400 1330 -1380 {
lab=x2n}
N 1330 -1380 1460 -1380 {
lab=x2n}
N 1460 -1390 1460 -1380 {
lab=x2n}
N 1330 -1460 1330 -1440 {
lab=x2p}
N 1330 -1460 1460 -1460 {
lab=x2p}
N 1460 -1460 1460 -1450 {
lab=x2p}
N 1330 -1240 1370 -1240 {
lab=x2p}
N 1410 -1240 1450 -1240 {
lab=x2n}
N 1370 -1460 1370 -1240 {
lab=x2p}
N 1410 -1380 1410 -1240 {
lab=x2n}
N 1020 -1380 1060 -1380 {
lab=x1n}
N 1060 -1380 1140 -1460 {
lab=x1n}
N 1060 -1460 1140 -1380 {
lab=x1p}
N 1020 -1460 1060 -1460 {
lab=x1p}
N 1710 -1070 1710 -1050 {
lab=GND}
N 1710 -1070 1730 -1070 {
lab=GND}
N 1770 -1060 1770 -1030 {
lab=vcm}
N 1830 -1070 1830 -1050 {
lab=GND}
N 1830 -1070 1850 -1070 {
lab=GND}
N 1890 -1060 1890 -1030 {
lab=vcm}
N 1730 -1110 1850 -1110 {
lab=v1}
N 1890 -1150 1890 -1120 {
lab=x3n}
N 1770 -1150 1770 -1120 {
lab=x3p}
N 1710 -1110 1730 -1110 {
lab=v1}
N 1770 -1030 1770 -1020 {
lab=vcm}
N 1890 -1030 1890 -1020 {
lab=vcm}
N 1890 -1240 1890 -1150 {
lab=x3n}
N 1770 -1240 1770 -1150 {
lab=x3p}
N 1770 -1020 1890 -1020 {
lab=vcm}
N 1580 -1380 1650 -1380 {
lab=x2p}
N 1580 -1460 1650 -1460 {
lab=x2n}
N 1770 -1400 1770 -1380 {
lab=x3n}
N 1770 -1380 1900 -1380 {
lab=x3n}
N 1900 -1390 1900 -1380 {
lab=x3n}
N 1770 -1460 1770 -1440 {
lab=x3p}
N 1770 -1460 1900 -1460 {
lab=x3p}
N 1900 -1460 1900 -1450 {
lab=x3p}
N 1770 -1240 1810 -1240 {
lab=x3p}
N 1850 -1240 1890 -1240 {
lab=x3n}
N 1810 -1460 1810 -1240 {
lab=x3p}
N 1850 -1380 1850 -1240 {
lab=x3n}
N 1460 -1380 1500 -1380 {
lab=x2n}
N 1500 -1380 1580 -1460 {
lab=x2n}
N 1500 -1460 1580 -1380 {
lab=x2p}
N 1460 -1460 1500 -1460 {
lab=x2p}
N 2150 -1070 2150 -1050 {
lab=GND}
N 2150 -1070 2170 -1070 {
lab=GND}
N 2210 -1060 2210 -1030 {
lab=vcm}
N 2270 -1070 2270 -1050 {
lab=GND}
N 2270 -1070 2290 -1070 {
lab=GND}
N 2330 -1060 2330 -1030 {
lab=vcm}
N 2170 -1110 2290 -1110 {
lab=v1}
N 2330 -1150 2330 -1120 {
lab=x4n}
N 2210 -1150 2210 -1120 {
lab=x4p}
N 2150 -1110 2170 -1110 {
lab=v1}
N 2210 -1030 2210 -1020 {
lab=vcm}
N 2330 -1030 2330 -1020 {
lab=vcm}
N 2330 -1240 2330 -1150 {
lab=x4n}
N 2210 -1240 2210 -1150 {
lab=x4p}
N 2210 -1020 2330 -1020 {
lab=vcm}
N 2020 -1380 2090 -1380 {
lab=x3p}
N 2020 -1460 2090 -1460 {
lab=x3n}
N 2210 -1400 2210 -1380 {
lab=x4n}
N 2210 -1380 2340 -1380 {
lab=x4n}
N 2340 -1390 2340 -1380 {
lab=x4n}
N 2210 -1460 2210 -1440 {
lab=x4p}
N 2210 -1460 2340 -1460 {
lab=x4p}
N 2340 -1460 2340 -1450 {
lab=x4p}
N 2210 -1240 2250 -1240 {
lab=x4p}
N 2290 -1240 2330 -1240 {
lab=x4n}
N 2250 -1460 2250 -1240 {
lab=x4p}
N 2290 -1380 2290 -1240 {
lab=x4n}
N 1900 -1380 1940 -1380 {
lab=x3n}
N 1940 -1380 2020 -1460 {
lab=x3n}
N 1940 -1460 2020 -1380 {
lab=x3p}
N 1900 -1460 1940 -1460 {
lab=x3p}
N 2340 -1380 2430 -1380 {
lab=x4n}
N 2430 -1400 2430 -1380 {
lab=x4n}
N 2340 -1460 2430 -1460 {
lab=x4p}
N 2430 -1460 2430 -1440 {
lab=x4p}
N 250 -1470 250 -1330 {
lab=vcmi}
N 2270 -1880 2310 -1880 {
lab=GND}
N 2260 -1980 2290 -1980 {
lab=y2}
N 2470 -1480 2570 -1480 {
lab=y1}
N 2570 -1480 2570 -1440 {
lab=y1}
N 820 -330 820 -310 {
lab=GND}
N 820 -330 840 -330 {
lab=GND}
N 880 -320 880 -290 {
lab=vcm}
N 940 -330 940 -310 {
lab=GND}
N 940 -330 960 -330 {
lab=GND}
N 1000 -320 1000 -290 {
lab=vcm}
N 840 -370 960 -370 {
lab=v3}
N 1000 -410 1000 -380 {
lab=#net8}
N 880 -410 880 -380 {
lab=#net9}
N 820 -370 840 -370 {
lab=v3}
N 880 -290 880 -280 {
lab=vcm}
N 1000 -290 1000 -280 {
lab=vcm}
N 1000 -500 1000 -410 {
lab=#net8}
N 880 -500 880 -410 {
lab=#net9}
N 880 -280 1000 -280 {
lab=vcm}
N 690 -640 760 -640 {
lab=vip}
N 690 -680 760 -680 {
lab=vcmi}
N 690 -720 760 -720 {
lab=vin}
N 880 -660 880 -640 {
lab=#net8}
N 880 -640 1010 -640 {
lab=#net8}
N 1010 -650 1010 -640 {
lab=#net8}
N 880 -720 880 -700 {
lab=#net9}
N 880 -720 1010 -720 {
lab=#net9}
N 1010 -720 1010 -710 {
lab=#net9}
N 880 -500 920 -500 {
lab=#net9}
N 960 -500 1000 -500 {
lab=#net8}
N 920 -720 920 -500 {
lab=#net9}
N 960 -640 960 -500 {
lab=#net8}
N 1010 -640 1050 -640 {
lab=#net8}
N 1050 -640 1130 -720 {
lab=#net8}
N 1050 -720 1130 -640 {
lab=#net9}
N 1010 -720 1050 -720 {
lab=#net9}
N 1160 -330 1160 -310 {
lab=GND}
N 1160 -330 1180 -330 {
lab=GND}
N 1220 -320 1220 -290 {
lab=vcm}
N 1280 -330 1280 -310 {
lab=GND}
N 1280 -330 1300 -330 {
lab=GND}
N 1340 -320 1340 -290 {
lab=vcm}
N 1180 -370 1300 -370 {
lab=v3}
N 1340 -410 1340 -380 {
lab=#net10}
N 1220 -410 1220 -380 {
lab=#net11}
N 1160 -370 1180 -370 {
lab=v3}
N 1220 -290 1220 -280 {
lab=vcm}
N 1340 -290 1340 -280 {
lab=vcm}
N 1220 -280 1340 -280 {
lab=vcm}
N 1220 -410 1260 -410 {
lab=#net11}
N 1300 -410 1340 -410 {
lab=#net10}
N 1130 -720 1170 -720 {
lab=#net8}
N 1130 -640 1170 -640 {
lab=#net9}
N 1230 -720 1360 -720 {
lab=#net10}
N 1230 -640 1360 -640 {
lab=#net11}
N 1310 -840 1330 -840 {
lab=#net10}
N 1310 -840 1310 -720 {
lab=#net10}
N 1390 -840 1420 -840 {
lab=#net12}
N 1480 -840 1510 -840 {
lab=#net13}
N 1510 -840 1510 -700 {
lab=#net13}
N 1480 -700 1510 -700 {
lab=#net13}
N 1310 -530 1330 -530 {
lab=#net11}
N 1310 -640 1310 -530 {
lab=#net11}
N 1390 -530 1420 -530 {
lab=#net14}
N 1480 -530 1510 -530 {
lab=#net15}
N 1510 -660 1510 -530 {
lab=#net15}
N 1480 -660 1510 -660 {
lab=#net15}
N 1300 -720 1300 -410 {
lab=#net10}
N 1260 -640 1260 -410 {
lab=#net11}
N 1570 -640 1650 -720 {
lab=#net15}
N 1570 -720 1650 -640 {
lab=#net13}
N 1680 -330 1680 -310 {
lab=GND}
N 1680 -330 1700 -330 {
lab=GND}
N 1740 -320 1740 -290 {
lab=vcm}
N 1800 -330 1800 -310 {
lab=GND}
N 1800 -330 1820 -330 {
lab=GND}
N 1860 -320 1860 -290 {
lab=vcm}
N 1700 -370 1820 -370 {
lab=v3}
N 1860 -410 1860 -380 {
lab=#net16}
N 1740 -410 1740 -380 {
lab=#net17}
N 1680 -370 1700 -370 {
lab=v3}
N 1740 -290 1740 -280 {
lab=vcm}
N 1860 -290 1860 -280 {
lab=vcm}
N 1740 -280 1860 -280 {
lab=vcm}
N 1740 -410 1780 -410 {
lab=#net17}
N 1820 -410 1860 -410 {
lab=#net16}
N 1650 -720 1690 -720 {
lab=#net15}
N 1650 -640 1690 -640 {
lab=#net13}
N 1750 -720 1880 -720 {
lab=#net16}
N 1750 -640 1880 -640 {
lab=#net17}
N 1830 -840 1850 -840 {
lab=#net16}
N 1830 -840 1830 -720 {
lab=#net16}
N 1910 -840 1940 -840 {
lab=#net18}
N 2000 -840 2030 -840 {
lab=#net19}
N 2030 -840 2030 -700 {
lab=#net19}
N 2000 -700 2030 -700 {
lab=#net19}
N 1830 -530 1850 -530 {
lab=#net17}
N 1830 -640 1830 -530 {
lab=#net17}
N 1910 -530 1940 -530 {
lab=#net20}
N 2000 -530 2030 -530 {
lab=#net21}
N 2030 -660 2030 -530 {
lab=#net21}
N 2000 -660 2030 -660 {
lab=#net21}
N 1820 -720 1820 -410 {
lab=#net16}
N 1780 -640 1780 -410 {
lab=#net17}
N 1510 -720 1570 -720 {
lab=#net13}
N 1510 -640 1570 -640 {
lab=#net15}
N 2090 -640 2170 -720 {
lab=#net21}
N 2090 -720 2170 -640 {
lab=#net19}
N 2200 -330 2200 -310 {
lab=GND}
N 2200 -330 2220 -330 {
lab=GND}
N 2260 -320 2260 -290 {
lab=vcm}
N 2320 -330 2320 -310 {
lab=GND}
N 2320 -330 2340 -330 {
lab=GND}
N 2380 -320 2380 -290 {
lab=vcm}
N 2220 -370 2340 -370 {
lab=v3}
N 2380 -410 2380 -380 {
lab=#net22}
N 2260 -410 2260 -380 {
lab=#net23}
N 2200 -370 2220 -370 {
lab=v3}
N 2260 -290 2260 -280 {
lab=vcm}
N 2380 -290 2380 -280 {
lab=vcm}
N 2260 -280 2380 -280 {
lab=vcm}
N 2260 -410 2300 -410 {
lab=#net23}
N 2340 -410 2380 -410 {
lab=#net22}
N 2170 -720 2210 -720 {
lab=#net21}
N 2170 -640 2210 -640 {
lab=#net19}
N 2270 -720 2400 -720 {
lab=#net22}
N 2270 -640 2400 -640 {
lab=#net23}
N 2350 -840 2370 -840 {
lab=#net22}
N 2350 -840 2350 -720 {
lab=#net22}
N 2430 -840 2460 -840 {
lab=#net24}
N 2520 -840 2550 -840 {
lab=#net25}
N 2550 -840 2550 -700 {
lab=#net25}
N 2520 -700 2550 -700 {
lab=#net25}
N 2350 -530 2370 -530 {
lab=#net23}
N 2350 -640 2350 -530 {
lab=#net23}
N 2430 -530 2460 -530 {
lab=#net26}
N 2520 -530 2550 -530 {
lab=#net27}
N 2550 -660 2550 -530 {
lab=#net27}
N 2520 -660 2550 -660 {
lab=#net27}
N 2340 -720 2340 -410 {
lab=#net22}
N 2300 -640 2300 -410 {
lab=#net23}
N 2030 -720 2090 -720 {
lab=#net19}
N 2030 -640 2090 -640 {
lab=#net21}
N 2800 -740 2800 -710 {
lab=v3}
N 2800 -740 2880 -740 {
lab=v3}
N 2760 -660 2760 -540 {
lab=e}
N 2800 -640 2800 -630 {
lab=GND}
N 2800 -650 2800 -640 {
lab=GND}
N 2660 -740 2660 -710 {
lab=y3}
N 2660 -650 2660 -630 {
lab=GND}
N 2620 -660 2620 -640 {
lab=#net27}
N 2620 -720 2620 -700 {
lab=#net25}
N 2660 -740 2760 -740 {
lab=y3}
N 2760 -740 2760 -700 {
lab=y3}
N 2550 -720 2620 -720 {
lab=#net25}
N 2550 -640 2620 -640 {
lab=#net27}
N 2390 -1740 2390 -1720 {
lab=GND}
N 2350 -1750 2350 -1730 {
lab=GND}
N 2350 -1730 2390 -1730 {
lab=GND}
N 2330 -1790 2350 -1790 {
lab=e}
C {devices/launcher.sym} 220 -980 0 0 {name=h1
descr="Annotate OP"
tclcommand="set show_hidden_texts 1; xschem annotate_op"}
C {sky130_fd_pr/corner.sym} 260 -1120 0 0 {name=CORNER only_toplevel=false corner=tt}
C {devices/code.sym} 130 -1120 0 0 {name=STIMULI
only_toplevel=false
value="
.options savecurrents
.control
save all

** Main Simulations
let pltnr = 1
let runnr = 1
let stop = 1

let fs = 65536
let fmax = fs/2
let fmin = fs*1e-4

set wr_singlescale
set wr_vecnames
option numdgt=5

while const.runnr le const.stop
	
	alter @V1[ac] = 1
	alter @V2[ac] = 0
	ac dec 100 $&fmin $&fmax
	alter @V1[ac] = 0
	alter @V2[ac] = -1
	ac dec 100 $&fmin $&fmax
	
	set pltName = "ac$&const.pltnr"
       	setplot $pltName

	let stf_1 = v1/u
	let stf_2 = v2/u
	let stf_3 = v3/u
	plot vdb(stf_1) vdb(stf_2) vdb(stf_3)
	
	let pltnr = const.pltnr + 1
	set pltName = "ac$&const.pltnr"
       	setplot $pltName

	let ntf_gmc_fd = (v1/e)+1e-15
	let ntf_ref_se = (v2/e)+1e-15
	let ntf_rcota_fd = (v3/e)+1e-15
	plot vdb(ntf_gmc_fd) vdb(ntf_ref_se) 
	*vdb(ntf_rcota_fd)

	let ntf_gmc_fd_db = vdb(ntf_gmc_fd)
	let ntf_ref_se_db = vdb(ntf_ref_se)

	wrdata /foss/designs/ntf_verify_fd.txt ntf_gmc_fd_db ntf_ref_se_db
	
       	let pltnr = const.pltnr + 1
	let runnr = const.runnr + 1
end

remzerovec
op
write dsm_lf_fb_diff_gmc.raw
.endc"}
C {devices/lab_pin.sym} 2470 -1480 0 0 {name=l1 sig_type=std_logic lab=y1}
C {devices/vsource.sym} 320 -1490 0 1 {name=V1 value="0 AC 1"}
C {devices/vcvs.sym} 2610 -1420 0 0 {name=E1 value=1}
C {devices/vsource.sym} 2570 -1240 0 0 {name=V2 value="0 AC -2"}
C {devices/gnd.sym} 2570 -1190 0 0 {name=l1 lab=GND}
C {devices/lab_pin.sym} 2650 -1480 1 0 {name=l1 sig_type=std_logic lab=v1}
C {devices/lab_pin.sym} 700 -1380 0 0 {name=l7 sig_type=std_logic lab=vip}
C {devices/lab_pin.sym} 700 -1460 0 0 {name=l10 sig_type=std_logic lab=vin
}
C {devices/lab_pin.sym} 990 -1380 3 0 {name=l12 sig_type=std_logic lab=x1n
}
C {devices/capa.sym} 1020 -1420 0 0 {name=C2
m=1
value=800p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 990 -1460 1 0 {name=l11 sig_type=std_logic lab=x1p
}
C {devices/vcvs.sym} 2470 -1420 0 0 {name=E2 value=0.5}
C {devices/gnd.sym} 2470 -1370 0 0 {name=l2 lab=GND}
C {devices/gnd.sym} 2610 -1370 0 0 {name=l3 lab=GND}
C {devices/vsource.sym} 320 -1270 0 0 {name=V3 value=0
}
C {devices/vcvs.sym} 390 -1500 0 0 {name=E3 value=-1}
C {devices/vcvs.sym} 250 -1500 0 1 {name=E4 value=1}
C {devices/gnd.sym} 320 -1210 0 0 {name=l15 lab=GND}
C {devices/lab_pin.sym} 230 -1550 0 0 {name=l19 sig_type=std_logic lab=vip}
C {devices/lab_pin.sym} 410 -1550 0 1 {name=l24 sig_type=std_logic lab=vin
}
C {devices/lab_pin.sym} 250 -1330 0 0 {name=l30 sig_type=std_logic lab=vcmi}
C {devices/gnd.sym} 320 -1450 0 0 {name=l32 lab=GND}
C {devices/vsource.sym} 130 -1270 0 0 {name=V5 value=0
}
C {devices/gnd.sym} 130 -1210 0 0 {name=l36 lab=GND}
C {devices/lab_pin.sym} 130 -1320 0 0 {name=l40 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 340 -1520 1 0 {name=l31 sig_type=std_logic lab=u}
C {devices/vccs.sym} 890 -1090 0 0 {name=G13 value=20u}
C {devices/gnd.sym} 830 -1050 0 0 {name=l43 lab=GND}
C {devices/vccs.sym} 1010 -1090 0 0 {name=G1 value=-20u}
C {devices/gnd.sym} 950 -1050 0 0 {name=l44 lab=GND}
C {devices/lab_pin.sym} 940 -1020 3 0 {name=l41 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 830 -1110 1 0 {name=p2 sig_type=std_logic lab=v1}
C {devices/vccs.sym} 860 -1930 2 1 {name=G17 value=0.00614}
C {devices/vccs.sym} 1230 -1930 2 1 {name=G18 value=1}
C {devices/gnd.sym} 690 -1860 0 0 {name=l46 lab=GND}
C {devices/vccs.sym} 1630 -1930 2 1 {name=G19 value=1}
C {devices/capa.sym} 1020 -1930 0 0 {name=C5
m=1
value=1.5259e-5
footprint=1206
device="ceramic capacitor"}
C {devices/capa.sym} 1390 -1930 0 0 {name=C3
m=1
value=1.5259e-5
footprint=1206
device="ceramic capacitor"}
C {devices/capa.sym} 1790 -1930 0 0 {name=C4
m=1
value=1.5259e-5
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 2360 -1980 1 0 {name=l47 sig_type=std_logic lab=y2}
C {devices/lab_pin.sym} 690 -1980 0 0 {name=l48 sig_type=std_logic lab=u}
C {devices/lab_pin.sym} 990 -1980 1 0 {name=l49 sig_type=std_logic lab=x1}
C {devices/lab_pin.sym} 1360 -1980 1 0 {name=l50 sig_type=std_logic lab=x2}
C {devices/lab_pin.sym} 1760 -1980 1 0 {name=l51 sig_type=std_logic lab=x3}
C {devices/vcvs.sym} 2430 -1950 0 0 {name=E5 value=1}
C {devices/lab_pin.sym} 2330 -1790 0 0 {name=l54 sig_type=std_logic lab=e}
C {devices/lab_pin.sym} 2470 -2010 1 0 {name=l55 sig_type=std_logic lab=v2}
C {devices/vccs.sym} 2010 -1930 2 1 {name=G20 value=1}
C {devices/capa.sym} 2170 -1930 0 0 {name=C6
m=1
value=1.5259e-5
footprint=1206
device="ceramic capacitor"}
C {devices/vcvs.sym} 1140 -1930 0 0 {name=E6 value=1}
C {devices/vcvs.sym} 1540 -1930 0 0 {name=E7 value=1}
C {devices/vcvs.sym} 1920 -1930 0 0 {name=E8 value=1}
C {devices/vcvs.sym} 1100 -1770 0 0 {name=E9 value=0.0555}
C {devices/gnd.sym} 1100 -1720 0 0 {name=l53 lab=GND}
C {devices/vcvs.sym} 1500 -1770 0 0 {name=E10 value=0.2494}
C {devices/gnd.sym} 1500 -1720 0 0 {name=l56 lab=GND}
C {devices/vcvs.sym} 1880 -1770 0 0 {name=E11 value=0.6712}
C {devices/gnd.sym} 1880 -1720 0 0 {name=l57 lab=GND}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 790 -1520 0 0 {name=x1 GM=20u RO=100Meg CO=0 RP=0 CP=0 VCMO=0 I0=100u}
C {devices/lab_pin.sym} 1430 -1380 3 0 {name=l8 sig_type=std_logic lab=x2n
}
C {devices/capa.sym} 1460 -1420 0 0 {name=C1
m=1
value=5p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1430 -1460 1 0 {name=l9 sig_type=std_logic lab=x2p
}
C {devices/vccs.sym} 1330 -1090 0 0 {name=G2 value=400n}
C {devices/gnd.sym} 1270 -1050 0 0 {name=l13 lab=GND}
C {devices/vccs.sym} 1450 -1090 0 0 {name=G3 value=-400n}
C {devices/gnd.sym} 1390 -1050 0 0 {name=l14 lab=GND}
C {devices/lab_pin.sym} 1380 -1020 3 0 {name=l42 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 1270 -1110 1 0 {name=p1 sig_type=std_logic lab=v1}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 1230 -1520 0 0 {name=x2 GM=230n RO=5G CO=0 RP=0 CP=0 VCMO=0 I0=10u}
C {devices/lab_pin.sym} 1210 -1420 0 0 {name=l52 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 1870 -1380 3 0 {name=l5 sig_type=std_logic lab=x3n
}
C {devices/capa.sym} 1900 -1420 0 0 {name=C7
m=1
value=1p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1870 -1460 1 0 {name=l17 sig_type=std_logic lab=x3p
}
C {devices/vccs.sym} 1770 -1090 0 0 {name=G4 value=124n}
C {devices/gnd.sym} 1710 -1050 0 0 {name=l18 lab=GND}
C {devices/vccs.sym} 1890 -1090 0 0 {name=G5 value=-124n}
C {devices/gnd.sym} 1830 -1050 0 0 {name=l20 lab=GND}
C {devices/lab_pin.sym} 1820 -1020 3 0 {name=l58 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 1710 -1110 1 0 {name=p3 sig_type=std_logic lab=v1}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 1670 -1520 0 0 {name=x3 GM=46n RO=20G CO=0 RP=0 CP=0 VCMO=0 I0=10u}
C {devices/lab_pin.sym} 1650 -1420 0 0 {name=l59 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 2310 -1380 3 0 {name=l23 sig_type=std_logic lab=x4n
}
C {devices/capa.sym} 2340 -1420 0 0 {name=C8
m=1
value=0.65p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 2310 -1460 1 0 {name=l25 sig_type=std_logic lab=x4p
}
C {devices/vccs.sym} 2210 -1090 0 0 {name=G6 value=58n}
C {devices/gnd.sym} 2150 -1050 0 0 {name=l26 lab=GND}
C {devices/vccs.sym} 2330 -1090 0 0 {name=G7 value=-58n}
C {devices/gnd.sym} 2270 -1050 0 0 {name=l27 lab=GND}
C {devices/lab_pin.sym} 2260 -1020 3 0 {name=l60 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 2150 -1110 1 0 {name=p4 sig_type=std_logic lab=v1}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 2110 -1520 0 0 {name=x4 GM=23n RO=40G CO=0 RP=0 CP=0 VCMO=0 I0=10u}
C {devices/lab_pin.sym} 2090 -1420 0 0 {name=l61 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 700 -1420 0 0 {name=l6 sig_type=std_logic lab=vcmi}
C {devices/lab_pin.sym} 2570 -1320 0 0 {name=l33 sig_type=std_logic lab=e}
C {devices/lab_pin.sym} 690 -640 0 0 {name=l4 sig_type=std_logic lab=vip}
C {devices/lab_pin.sym} 690 -720 0 0 {name=l16 sig_type=std_logic lab=vin
}
C {devices/capa.sym} 1010 -680 0 0 {name=C9
m=1
value=40p
footprint=1206
device="ceramic capacitor"}
C {devices/vccs.sym} 880 -350 0 0 {name=G8 value=1u}
C {devices/gnd.sym} 820 -310 0 0 {name=l28 lab=GND}
C {devices/vccs.sym} 1000 -350 0 0 {name=G9 value=-1u}
C {devices/gnd.sym} 940 -310 0 0 {name=l29 lab=GND}
C {devices/lab_pin.sym} 930 -280 3 0 {name=l34 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 820 -370 1 0 {name=p5 sig_type=std_logic lab=v3}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 780 -780 0 0 {name=x5 GM=1u RO=100G CO=0.01p RP=0 CP=0.1p VCMO=0 I0=1u}
C {devices/lab_pin.sym} 690 -680 0 0 {name=l35 sig_type=std_logic lab=vcmi}
C {devices/res.sym} 1200 -720 3 0 {name=R1
value=5Meg
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 1200 -640 3 0 {name=R2
value=5Meg
footprint=1206
device=resistor
m=1}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 1380 -780 0 0 {name=x6 GM=1u RO=100G CO=0.01p RP=0 CP=0.1p VCMO=0 I0=1u}
C {devices/res.sym} 1360 -840 3 0 {name=R3
value=0
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 1360 -530 3 0 {name=R4
value=0
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 1450 -530 3 0 {name=C10
m=1
value=9p
footprint=1206
device="ceramic capacitor"}
C {devices/capa.sym} 1450 -840 3 0 {name=C11
m=1
value=9p
footprint=1206
device="ceramic capacitor"}
C {devices/vccs.sym} 1220 -350 0 0 {name=G10 value=340n}
C {devices/gnd.sym} 1160 -310 0 0 {name=l21 lab=GND}
C {devices/vccs.sym} 1340 -350 0 0 {name=G11 value=-340n}
C {devices/gnd.sym} 1280 -310 0 0 {name=l22 lab=GND}
C {devices/lab_pin.sym} 1270 -280 3 0 {name=l37 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 1160 -370 1 0 {name=p6 sig_type=std_logic lab=v3}
C {devices/lab_pin.sym} 1360 -680 0 0 {name=l38 sig_type=std_logic lab=vcm}
C {devices/res.sym} 1720 -720 3 0 {name=R5
value=5Meg
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 1720 -640 3 0 {name=R6
value=5Meg
footprint=1206
device=resistor
m=1}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 1900 -780 0 0 {name=x7 GM=1u RO=100G CO=0.01p RP=0 CP=0.1p VCMO=0 I0=1u}
C {devices/res.sym} 1880 -840 3 0 {name=R7
value=0
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 1880 -530 3 0 {name=R8
value=0
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 1970 -530 3 0 {name=C12
m=1
value=9p
footprint=1206
device="ceramic capacitor"}
C {devices/capa.sym} 1970 -840 3 0 {name=C13
m=1
value=9p
footprint=1206
device="ceramic capacitor"}
C {devices/vccs.sym} 1740 -350 0 0 {name=G12 value=540n}
C {devices/gnd.sym} 1680 -310 0 0 {name=l39 lab=GND}
C {devices/vccs.sym} 1860 -350 0 0 {name=G14 value=-540n}
C {devices/gnd.sym} 1800 -310 0 0 {name=l45 lab=GND}
C {devices/lab_pin.sym} 1790 -280 3 0 {name=l62 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 1680 -370 1 0 {name=p7 sig_type=std_logic lab=v3}
C {devices/lab_pin.sym} 1880 -680 0 0 {name=l63 sig_type=std_logic lab=vcm}
C {devices/res.sym} 2240 -720 3 0 {name=R9
value=5Meg
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 2240 -640 3 0 {name=R10
value=5Meg
footprint=1206
device=resistor
m=1}
C {/foss/designs/macro-models/ota_fd_2pole.sym} 2420 -780 0 0 {name=x8 GM=1u RO=100G CO=0.01p RP=0 CP=0.1p VCMO=0 I0=1u}
C {devices/res.sym} 2400 -840 3 0 {name=R11
value=0
footprint=1206
device=resistor
m=1}
C {devices/res.sym} 2400 -530 3 0 {name=R12
value=0
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 2490 -530 3 0 {name=C14
m=1
value=11.3p
footprint=1206
device="ceramic capacitor"}
C {devices/capa.sym} 2490 -840 3 0 {name=C15
m=1
value=11.3p
footprint=1206
device="ceramic capacitor"}
C {devices/vccs.sym} 2260 -350 0 0 {name=G15 value=500n}
C {devices/gnd.sym} 2200 -310 0 0 {name=l64 lab=GND}
C {devices/vccs.sym} 2380 -350 0 0 {name=G16 value=-500n}
C {devices/gnd.sym} 2320 -310 0 0 {name=l65 lab=GND}
C {devices/lab_pin.sym} 2310 -280 3 0 {name=l66 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 2200 -370 1 0 {name=p8 sig_type=std_logic lab=v3}
C {devices/lab_pin.sym} 2400 -680 0 0 {name=l67 sig_type=std_logic lab=vcm}
C {devices/lab_pin.sym} 2660 -740 0 0 {name=l68 sig_type=std_logic lab=y3}
C {devices/vcvs.sym} 2800 -680 0 0 {name=E12 value=0.5}
C {devices/lab_pin.sym} 2840 -740 1 0 {name=l70 sig_type=std_logic lab=v3}
C {devices/vcvs.sym} 2660 -680 0 0 {name=E13 value=1}
C {devices/gnd.sym} 2660 -630 0 0 {name=l71 lab=GND}
C {devices/gnd.sym} 2800 -630 0 0 {name=l72 lab=GND}
C {devices/lab_pin.sym} 2760 -580 0 0 {name=l73 sig_type=std_logic lab=e}
C {devices/vcvs.sym} 2390 -1770 0 0 {name=E14 value=1}
C {devices/gnd.sym} 2390 -1720 0 0 {name=l69 lab=GND}
C {devices/title.sym} 200 -70 0 0 {name=l74 author="Michael Koefinger"}
